<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <script type="application/javascript">

  let canvas=null  // we give this a value in the init method
  let ctx=null

  function init(){
    // initialize canvas and ctx after the page is loaded
    canvas = document.getElementById('canvas')
    ctx = canvas.getContext('2d')
    drawBackground()
    canvas.addEventListener('click',mouseClick,false)
    canvas.addEventListener('mousemove',mouseMove,false)
  }

  function mouseClick(event){
    console.dir(event)
    x = event.offsetX
    y = event.offsetY
    //
    drawObject(x,y)
  }

  function mouseMove(event){
    //console.log(event.buttons)
    ctx.fillStyle="rgba(100,0,700,0.5)"
    const x = event.offsetX
    const y = event.offsetY
    if (event.buttons==1){  // see if the mouse button is pressed
      ctx.fillRect(x,y,40,50)
    }
  }
    function mouseMove(event){
      //console.log(event.buttons)
      ctx.fillStyle="rgba(100,0,300,0.5)"
      const x = event.offsetX
      const y = event.offsetY
      if (event.buttons==1){  // see if the mouse button is pressed
        ctx.fillRect(x,y,40,50)
      }
  }
  function mouseMove(event){
    //console.log(event.buttons)
    ctx.fillStyle="rgba(230,0,400,0.5)"
    const x = event.offsetX
    const y = event.offsetY
    if (event.buttons==1){  // see if the mouse button is pressed
      ctx.fillRect(x,y,40,50)
    }
  }
  function drawObject(x,y){
    // put in your own code to draw something interesting
    // at starting here ...
    drawCircle(x,y,10)
    drawThing(x,y)
  }

  function drawThing(x,y){
    cxt = ctx
    ctx.strokeStyle="purple"
    ctx.fillStyle="rgba(0,255,255,0.1)"
  cxt.beginPath()
  cxt.moveTo(x,y)
  cxt.lineTo(x=199-98,y=101+98)
  cxt.lineTo(x=300-98,y=100+98)
  ctx.lineTo(x=345-98,y=130+98)
 ctx.lineTo(x=346-98,y=159+98)
 ctx.lineTo(x=346-98,y=168+98)
 ctx.lineTo(x=346-98,y=171+98)
 ctx.lineTo(x=309-98,y=214+98)
 ctx.lineTo(x=273-98,y=215+98)
 ctx.lineTo(x=243-98,y=216+98)
 ctx.lineTo(x=207-98,y=215+98)
 ctx.lineTo(x=175-98,y=189+98)
 ctx.lineTo(x=169-98,y=146+98)
 ctx.lineTo(x=201-98,y=99+98)
 ctx.stroke()
 ctx.fill()
         drawCircle(210,160,20)
        drawCircle(300,160,20)

        cxt.lineTo(199,101)
        cxt.lineTo(300,100)
        ctx.lineTo(345,130)
        ctx.stroke()

        cxt.lineTo(210,210)
        cxt.lineTo(300,100)
        ctx.lineTo(345,130)
        ctx.stroke()
 }


  function drawCircle(x,y,r){
    // draw a circle centered at (x,y) with radius r
    ctx.beginPath();
    ctx.arc(x,y,r,0,2*Math.PI,true)
    ctx.stroke()
  }

  function fillCircle(x,y,r){
    // draw a circle centered at (x,y) with radius r
    ctx.beginPath();
    ctx.arc(x,y,r,0,2*Math.PI,true)
    ctx.fill()
  }

  </script>
 </head>
 <body onload="init();">
   <h1>MouseDemo interactive javascript canvas for 11/20</h1>
   <br>

   <button onclick="drawBackground()">Clear</button>
   <button onclick="drawTim(200,200)">Draw</button>

   <canvas style="float:left;margin-right:30px"
           id="canvas" width="500" height="500">
   </canvas>

   <script src="drawgrid.js"></script>
 </body>
</html>
